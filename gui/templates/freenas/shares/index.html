{% extends "base.html" %}

{% block content %}
<div style="float:left;">
    <h1>Sharing</h1>
</div>
{% endblock %}
{% block dojango_content %}

{% if user.is_authenticated %}
<div dojoType="dijit.layout.TabContainer" style="width:100%;" doLayout="False">
        <div dojoType="dijit.layout.ContentPane" title="Active">

<table>
    <tr><td><h3>Mount Points</h3></td></tr>
    <tr>
        <td width="150px" style="background:#cfcfcf;"><strong>Mount Point</strong></td>
        <td width="50px" style="background:#cfcfcf;"><strong>Mount Options</strong></td>
        <td width="25px" style="background:#cfcfcf;"></td>
    </tr>
{% for mount in mountpoint_list %}
    <tr>
        <td>
{{ mount.mp_path }}

</td>

        <td> {{ mount.mp_options }}</td>
        <td>
<a href="shares/mountpoint/delete/{{ mount.id }}/">Delete?</a>
            </td>
    </tr>
{% endfor %}
</table>
              
<table>
    <tr><td><h3>Shares</h3></td></tr>
    <tr>
        <td width="150px" style="background:#cfcfcf;"><strong>Share</strong></td>
        <td width="50px" style="background:#cfcfcf;"><strong>Type</strong></td>
        <td width="25px" style="background:#cfcfcf;"></td>
    </tr>
{% for share in cifs_share_list %}
    <tr>
        <td>
{{ share.cifs_share_name }}

</td>

        <td>Windows</td>
        <td>
<a href="shares/windows/delete/{{ share.id }}/">Delete?</a>
            </td>
    </tr>
{% endfor %}
{% for share in afp_share_list %}
    <tr>
        <td>
{{ share.afp_name }}

</td>

        <td>Apple</td>
        <td>
<a href="shares/apple/delete/{{ share.id }}/">Delete?</a>
            </td>
    </tr>
{% endfor %}

{% for share in nfs_share_list %}
    <tr>
        <td>
{{ share.nfs_share_path }}

</td>

        <td>Unix</td>
        <td>
<a href="shares/unix/delete/{{ share.id }}/">Delete?</a>
            </td>
    </tr>
{% endfor %}
</table>

</div>
    <div dojoType="dijit.layout.ContentPane" title="Windows Share">

<form action="shares/windows/" method="post">{% csrf_token %}
        <table>
            {{ cifs_share }}
        </table>

<button style="margin-top:16px;" dojoType="dijit.form.Button" type="submit">Add Windows Share</button>
</form>
        </div>
        <div dojoType="dijit.layout.ContentPane" title="Apple Share">

<form action="shares/apple/" method="post">{% csrf_token %}
        <table>
            {{ afp_share }}
        </table>

<button style="margin-top:16px;" dojoType="dijit.form.Button" type="submit">Add Apple Share</button>
</form>
        </div>
        <div dojoType="dijit.layout.ContentPane" title="Unix Share">

<form action="shares/unix/" method="post">{% csrf_token %}
        <table>
            {{ nfs_share }}
        </table>

<button style="margin-top:16px;" dojoType="dijit.form.Button" type="submit">Add Unix Share</button>
</form>
        </div>
      <br />
</div>
{% else %}
    <p>Welcome. Please <a href="login/">log in</a>.</p>
{% endif %}

{% endblock %}

