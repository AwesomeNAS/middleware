{% extends "base.html" %}

{% block content %}
{% if user.is_authenticated %}
<div dojoType="dijit.layout.TabContainer" style="width:100%;" doLayout="False">
        <div dojoType="dijit.layout.ContentPane" title="Active">

<table>
    <tr><td><h3>Mount Points</h3></td></tr>
    <tr>
        <td width="150px" style="background:#cfcfcf;"><strong>Mount Point</strong></td>
        <td width="50px" style="background:#cfcfcf;"><strong>Mount Options</strong></td>
        <td width="25px" style="background:#cfcfcf;"></td>
    </tr>
{% for mount in mountpoint_list %}
    <tr>
        <td>
{{ mount.mountpoint }}

</td>

        <td> {{ mount.mountoptions }}</td>
        <td>
<a href="/freenas/shares/mountpoint/delete/{{ mount.id }}/">Delete?</a>
            </td>
    </tr>
{% endfor %}
</table>
              
<table>
    <tr><td><h3>Shares</h3></td></tr>
    <tr>
        <td width="150px" style="background:#cfcfcf;"><strong>Share</strong></td>
        <td width="50px" style="background:#cfcfcf;"><strong>Type</strong></td>
        <td width="25px" style="background:#cfcfcf;"></td>
    </tr>
{% for share in windowsshare_list %}
    <tr>
        <td>
{{ share.windowshare_name }}

</td>

        <td>Windows</td>
        <td>
<a href="/freenas/shares/delete/{{ share.id }}/">Delete?</a>
            </td>
    </tr>
{% endfor %}
{% for share in appleshare_list %}
    <tr>
        <td>
{{ share.appleshare_name }}

</td>

        <td>Apple</td>
        <td>
<a href="/freenas/shares/delete/{{ share.id }}/">Delete?</a>
            </td>
    </tr>
{% endfor %}

{% for share in unixshare_list %}
    <tr>
        <td>
{{ share.unixshare_name }}

</td>

        <td>Windows</td>
        <td>
<a href="/freenas/shares/delete/{{ share.id }}/">Delete?</a>
            </td>
    </tr>
{% endfor %}
</table>

</div>
    <div dojoType="dijit.layout.ContentPane" title="Windows Share">

<form action="/freenas/shares/windows/" method="post">{% csrf_token %}
        <table>
            {{ windowsshare }}
        </table>

<button style="margin-top:16px;" dojoType="dijit.form.Button" type="submit">Add Windows Share</button>
</form>
        </div>
        <div dojoType="dijit.layout.ContentPane" title="Apple Share">

<form action="/freenas/shares/apple/" method="post">{% csrf_token %}
        <table>
            {{ appleshare }}
        </table>

<button style="margin-top:16px;" dojoType="dijit.form.Button" type="submit">Add Apple Share</button>
</form>
        </div>
        <div dojoType="dijit.layout.ContentPane" title="Unix Share">

<form action="/freenas/shares/unix/" method="post">{% csrf_token %}
        <table>
            {{ unixshare }}
        </table>

<button style="margin-top:16px;" dojoType="dijit.form.Button" type="submit">Add Unix Share</button>
</form>
        </div>
      <br />
</div>
{% else %}
    <p>Welcome. Please <a href="/freenas/login/">log in</a>.</p>
{% endif %}

{% endblock %}

